function OpenBusinessJustifications(){try{var t=$("#ERPPopup").kendoWindow({actions:["Custom","Maximize","Minimize","Close"],draggable:!0,modal:!0,pinned:!0,visible:!0,resizable:!0,title:"Process Window",height:"500px",width:"800px"});$("#ERPPopup").data("kendoWindow").center().open()}catch(n){alert(n.message)}}function GetClientSelectedValue(){return{iClientID:$("#ClientId").val()}}function OnSelectClient(){$("#ddl").data("kendoDropDownList").dataSource.read()}function OnClickAdd(){var i=[],t,n;$("#ProcessERPMapping table > tbody > tr").each(function(){var n=$(this).find("[type=checkbox]");$(n).is(":checked")&&i.push(n.val())});t=[];t.push({field:"iProcessGroupID",hidden:!0});t.push({field:"oERPProcess.iERPCode",title:"ERP Code",width:100});t.push({field:"oERPProcess.sName",title:"ERP Name",encoded:!1,width:250});t.push({field:"",title:"",template:"<input type='button' value='DELETE' class='k-grid-delete' iLoc='#=oERPProcess.oLocation.iLocationID#' iERPProcessID='#=oERPProcess.iERPProcessID#' iProcessGroupID='#=iProcessGroupID#' >",width:50});n=[];n.push({field:"oLocation.iLocationID",hidden:!0});n.push({field:"iProcessFTEID",hidden:!0});n.push({field:"oLocation.sLocationName",title:"Location",attributes:{disabled:"disabled"},editable:!0,width:100});n.push({field:"iFTE",title:"FTE",width:100,attributes:{cName:"iFTE",iLoc:"#=oLocation.iLocationID#",iFTE:"#=iProcessFTEID#","class":"clsCell"}});n.push({field:"iQCACount",title:"QCACount",width:100,attributes:{cName:"QCACount",iLoc:"#=oLocation.iLocationID#",iFTE:"#=iProcessFTEID#","class":"clsCell"}});n.push({field:"dtEffectiveStartDate",template:"#=kendo.toString(dtEffectiveStartDate,'MM-dd-yyyy')#",title:"Eff. Start Date",editable:!0,width:100,attributes:{cName:"dtEffectiveStartDate",iLoc:"#=oLocation.iLocationID#",iFTE:"#=iProcessFTEID#","class":"clsCell"}});n.push({field:"dtEffectiveEndDate",template:"#=kendo.toString(dtEffectiveEndDate,'MM-dd-yyyy')#",title:"Eff. End Date",editable:!0,width:100,attributes:{cName:"dtEffectiveEndDate",iLoc:"#=oLocation.iLocationID#",iFTE:"#=iProcessFTEID#","class":"clsCell"}});$.ajax({url:"/Process/fillErpGroupGridRead",type:"post",data:{iERPProcessIDList:i},cache:!1,success:function(i){var u,r,f,e,o,s;if($("#ERPPopup").data("kendoWindow").close(),i.lProcessGroup!=null){for(u=[],r=0;r<i.lProcessGroup.length;r++)u.push(i.lProcessGroup[r]);f=$("#GridErpGroup").getKendoGrid();f.destroy();$("#GridErpGroup").empty().kendoGrid({dataSource:{data:u},groupable:!1,sortable:!1,scrollable:!0,pageable:!1,columns:t});e=[];o=[];$.each(i.lProcessFTE,function(n,t){t.dtEffectiveStartDate=(new Date).getMonth()+1+"/"+(new Date).getDate()+"/"+(new Date).getYear();t.dtEffectiveEndDate=(new Date).getMonth()+1+"/"+(new Date).getDate()+"/"+(new Date).getYear()});s=$("#GridProcessEtE").getKendoGrid();$("#GridProcessEtE").empty().kendoGrid({dataSource:{data:i.lProcessFTE},groupable:!1,sortable:!1,scrollable:!0,pageable:!1,editable:!0,schema:n,columns:n})}}})}function OnBtnSearchClick(){var n=$("#ErpPopupGrid").data("kendoGrid");n.dataSource.read()}function GridFillterValue(){return{iLocation:$("#Location").val(),ErpProcessName:$("#ERPProcess").val()}}function deleteProcess(){}function OnClickNew(){window.location.href="/AppConfiguration/Process/Index"}function OnClickView(){}function GetParameter(){return{iERPProcessIDList:ErpCheck}}function OnClickView(){window.location.href="/AppConfiguration/Process/SearchView"}function OnSuccess(n){return n==1?(jAlert("Process Saved Successfully!","Alert",function(){window.location.href="/AppConfiguration/Process/SearchView"}),!1):n==-1?(jAlert("No Calender Information exists for this period! You need to define Calender First!"),!1):n==-2?(jAlert("You don't have permission to create Process with Process Type Organization!"),!1):n==-3?(jAlert("Process Name already exists!"),!1):(jAlert("Process Not Created Successfully!, Error is "+ref),!1)}function OnSaveButtonClick(n){var t=$("#form1").kendoValidator().data("kendoValidator");return n.preventDefault(),t.validate()?($("#form1").submit(),!0):!1}$(".k-select").css("cursor","pointer");$.validator.defaults.ignore="";$(".chkbx").on("click",function(){$(this).is(":checked")?$(".checkbox").prop("checked","checked"):$(".checkbox").prop("checked",!1)});$(document).ready(function(){$("#tabstrip").kendoTabStrip({animation:{open:{effects:"fadeIn"}}})});$(".k-grid-delete").on("click",function(){var t=$(this).attr("iProcessGroupID"),i=$(this).attr("iERPProcessID"),n=$(this).attr("iLocationID"),r=this;jConfirm("Do you real want to remove selected ERP","Confirmation",function(u){u&&$.ajax({url:"/Process/DeleteProcessGroup?iProcessGroupID="+t+"&iERPProcessID="+i+"&iLocationID="+n,type:"GET",dataType:"json",contentType:"application/json; charset=utf-8",success:function(t){var f,i,u;if(t.isGroupDeleted&&$(r).parent().parent().remove(),t.isLocationDelete){for(f=0,i=$("#GridProcessEtE").data("kendoGrid").dataSource.data(),u=0;u<i.length;u++)(i[u].iLocationID==n||i[u].oLocation.iLocationID==n)&&i.splice(u,1);$("#GridProcessEtE").data("kendoGrid").dataSource.data(i);$("#GridProcessEtE").data("kendoGrid").refresh()}return!1},error:function(){}})})});$(".clsCell").on("change",function(){var n={iLocationID:$(this).attr("iLoc"),iProcessFTEID:$(this).attr("iFTE"),columnName:$(this).attr("cName"),columnValue:$(this).val()==""?$(this).find("input").val():$(this).val()};$.ajax({url:"/Process/UpdateProcessFTERowState",type:"post",datatype:"json",data:{Params:n},cache:!1,success:function(){}})});